---
layout:    post
title:     "337. 打家劫舍 III"
date:       2020-08-05
category:  Leetcode
author:    iiwowks
published: true
photoswipe: true
syntaxhighlight: false
---

### [337. 打家劫舍 III](https://leetcode-cn.com/problems/house-robber-iii/)

<mark>动态规划</mark>

![image-337](/media/post/leetcode-337.png)

```java
class Solution {
    Map<TreeNode, Integer> f = new HashMap<TreeNode, Integer>();
    Map<TreeNode, Integer> g = new HashMap<TreeNode, Integer>();

    public int rob(TreeNode root) {
        dfs(root);
        return Math.max(f.getOrDefault(root, 0), g.getOrDefault(root, 0));
    }
    // Map.getOrDefault()方法：当集合中有key时，取出对应的value，没有key时使用defaultValue
    // String name = map.getOrDefault("name", "zja");
    public void dfs(TreeNode node) {
        if (node == null) {
            return;
        }
        dfs(node.left);
        dfs(node.right);
        f.put(node, node.val + g.getOrDefault(node.left, 0) + g.getOrDefault(node.right, 0));
        g.put(node, Math.max(f.getOrDefault(node.left, 0), g.getOrDefault(node.left, 0)) + 
            Math.max(f.getOrDefault(node.right, 0), g.getOrDefault(node.right, 0)));
    }
}
```