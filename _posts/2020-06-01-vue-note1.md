---
layout: post
title: "vue framework note1"
date: 2020-06-01
category: Frontend
author: zhengjunan
published: true
photoswipe: true
syntaxhighlight: false
---

# Vue

## 介绍

### Vue.js 是什么

Vue (读音 /vjuː/，类似于 **view**) 是一套用于构建用户界面的**渐进式框架**。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与[现代化的工具链](https://cn.vuejs.org/v2/guide/single-file-components.html)以及各种[支持类库](https://github.com/vuejs/awesome-vue#libraries--plugins)结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。

如果你想在深入学习 Vue 之前对它有更多了解，我们[制作了一个视频](https://cn.vuejs.org/v2/guide/#)，带您了解其核心概念和一个示例工程。

如果你已经是有经验的前端开发者，想知道 Vue 与其它库/框架有哪些区别，请查看[对比其它框架](https://cn.vuejs.org/v2/guide/comparison.html)。

- 视图层：`h5 + css + js`
- 网络通信： `axios`
- 页面跳转： `vue-router`
- 状态管理： `vuex`
- `Vue-UI`
- [官方文档](https://cn.vuejs.org/v2/guide/)

**MVVM 模式的实现者：**

- Model：模型层，在这里表示 j s 对象
- View：视图层，在这里表示 DOM（HTML 操作的元素）
- View Model： 连接视图和数据的中间件，vue.js 就是 MVVM 中 ViewModel 层的实现者
- ViewModel：能够观察到数据的变化，并对视图对应的内容进行更新
- ViewModel：能够监听到视图的变化，并能够通知数据发生变化

==学习 vue 我们必须之到它的 7 个属性，8 个 方法，以及 7 个指令。787 原则==

### el 属性

- 用来指示 vue 编译器从什么地方开始解析 vue 的语法，可以说是一个占位符。

### data 属性

- 用来组织从 view 中抽象出来的属性，可以说将视图的数据抽象出来存放在 data 中。

### template 属性

- 用来设置模板，会替换页面元素，包括占位符。

### methods 属性

- 放置页面中的业务逻辑，js 方法一般都放置在 methods 中

### render 属性

- 创建真正的`Virtual Dom`

### computed 属性

- 用来计算

### watch 属性

- `watch:function(new,old){}` 监听 data 中数据的变化 两个参数，一个返回新值，一个返回旧值。

## 基础语法

- `{{}}`

- `v-bind`
- `v-if`
- `v-for`
- `v-on:click`
- `v-model`

vue 实例有一个完整的生命周期，就是从开始创建、初始化数据、编译模版、挂载 DOM、渲染、更新、渲染、卸载等一些列的过程。

![lifecycle](https://cn.vuejs.org/images/lifecycle.png)

### 组件讲解

```html
*******************************************************
<li>注册组件-2</li>
<div id="app-8">
  <zhengjunan v-for="item in items" v-bind:zheng="item"></zhengjunan>
</div>
<br />
```

```js
// 定义一个vue组件 Vue.component(name, {xx})
Vue.component("zhengjunan", {
  // 接受参数 zheng是形参
  props: ["zheng"],
  // 定义模版
  template: "<li><mark> {{zheng}} </mark></li>",
});
var app8 = new Vue({
  el: "#app-8",
  data: {
    items: ["java", "springboot", "vue.js"],
  },
});
```

## Axios 异步通信

```html
<body>
  *******************************************************
  <div id="app" v-clock>
    <p>{{info.name}}</p>
    <p>{{info.address.city}}</p>
    <a v-bind:href="info.url">click me</a>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script>
    var app = new Vue({
      el: "#app",
      data() {
        return {
          // 请求返回参数的参数，必须和json格式一样
          info: {
            name: null,
            address: {
              street: null,
              city: null,
            },
            url: null,
          },
        };
      },
      mounted() {
        // 钩子函数
        axios.get("data.json").then((response) => (this.info = response.data));
      },
    });
  </script>
</body>
```

## 计算属性

计算出的结构保存在属性中，虚拟 DOM。**将计算结果缓存起来的属性（将行为转化成了静态的属性）**

- 主要特性是为了将不经常变化的结算结果缓存，节约系统开销

## 插槽 Slot

Npm 命令解释：

1. `npm install moduleName`: 安装模块到项目的目录下
2. `npm install -g moduleName`: -g 的意思是将模块安装到全局，具体安装到磁盘那个位置，要看`npm config prefix`的位置
3. `npm install -save moduleName`: --save 的意思是将模块安装到项目目录下，并在 package 文件的 dependencies 节点写入依赖, `-S`为该命令的缩写

## v-router 路由

## vue + elementUI

## 路由嵌套

嵌套路由又称为子路由，在实际开发中，通常由多层嵌套的组件组合而成。

## 参数传递及重定向

## 404 和路由钩子

进入路由之前

- `to`: 路由将要跳转的路径信息

- `from`: 路径跳转前的路径信息

- `next`: 路由的控制参数
  - `next()`: 跳入下一个页面
  - `next("/path")`: 改变路由的跳转方向，使其跳到另一个路由
  - `next(false)`: 返回原来的页面
  - `next((vm) => {})`: 仅在`beforeRouterEnter`中可用，`vm`是组件实例

| Options API       | Hook inside `setup` |
| ----------------- | ------------------- |
| `beforeCreate`    | Not needed\*        |
| `created`         | Not needed\*        |
| `beforeMount`     | `onBeforeMount`     |
| `mounted`         | `onMounted`         |
| `beforeUpdate`    | `onBeforeUpdate`    |
| `updated`         | `onUpdated`         |
| `beforeUnmount`   | `onBeforeUnmount`   |
| `unmounted`       | `onUnmounted`       |
| `errorCaptured`   | `onErrorCaptured`   |
| `renderTracked`   | `onRenderTracked`   |
| `renderTriggered` | `onRenderTriggered` |
| `activated`       | `onActivated`       |
| `deactivated`     | `onDeactivated`     |
